var e,t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},n={};t.d(n,{L8:()=>m,eF:()=>v,wk:()=>f,ds:()=>h});var r="undefined"==typeof document?void 0:document,a=!!r&&"content"in r.createElement("template"),i=!!r&&r.createRange&&"createContextualFragment"in r.createRange();function o(e,t){var n,r,a=e.nodeName,i=t.nodeName;return a===i||(n=a.charCodeAt(0),r=i.charCodeAt(0),n<=90&&r>=97?a===i.toUpperCase():r<=90&&n>=97&&i===a.toUpperCase())}function d(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var l={OPTION:function(e,t){var n=e.parentNode;if(n){var r=n.nodeName.toUpperCase();"OPTGROUP"===r&&(r=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==r||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}d(e,t,"selected")},INPUT:function(e,t){d(e,t,"checked"),d(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var r=e.firstChild;if(r){var a=r.nodeValue;if(a==n||!n&&a==e.placeholder)return;r.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,r,a=-1,i=0,o=e.firstChild;o;)if("OPTGROUP"===(r=o.nodeName&&o.nodeName.toUpperCase()))o=(n=o).firstChild;else{if("OPTION"===r){if(o.hasAttribute("selected")){a=i;break}i++}!(o=o.nextSibling)&&n&&(o=n.nextSibling,n=null)}e.selectedIndex=a}}};function u(){}function s(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}const c=function(t,n,d){if(d||(d={}),"string"==typeof n)if("#document"===t.nodeName||"HTML"===t.nodeName||"BODY"===t.nodeName){var c=n;(n=r.createElement("html")).innerHTML=c}else f=(f=n).trim(),n=a?function(e){var t=r.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}(f):i?function(t){return e||(e=r.createRange()).selectNode(r.body),e.createContextualFragment(t).childNodes[0]}(f):function(e){var t=r.createElement("body");return t.innerHTML=e,t.childNodes[0]}(f);else 11===n.nodeType&&(n=n.firstElementChild);var f,p=d.getNodeKey||s,m=d.onBeforeNodeAdded||u,v=d.onNodeAdded||u,h=d.onBeforeElUpdated||u,N=d.onElUpdated||u,b=d.onBeforeNodeDiscarded||u,C=d.onNodeDiscarded||u,A=d.onBeforeElChildrenUpdated||u,w=d.skipFromChildren||u,T=d.addChild||function(e,t){return e.appendChild(t)},g=!0===d.childrenOnly,E=Object.create(null),y=[];function S(e){y.push(e)}function x(e,t){if(1===e.nodeType)for(var n=e.firstChild;n;){var r=void 0;t&&(r=p(n))?S(r):(C(n),n.firstChild&&x(n,t)),n=n.nextSibling}}function O(e,t,n){!1!==b(e)&&(t&&t.removeChild(e),C(e),x(e,n))}function U(e){if(1===e.nodeType||11===e.nodeType)for(var t=e.firstChild;t;){var n=p(t);n&&(E[n]=t),U(t),t=t.nextSibling}}function R(e){v(e);for(var t=e.firstChild;t;){var n=t.nextSibling,r=p(t);if(r){var a=E[r];a&&o(t,a)?(t.parentNode.replaceChild(a,t),L(a,t)):R(t)}else R(t);t=n}}function L(e,t,n){var a=p(t);if(a&&delete E[a],!n){var i=h(e,t);if(!1===i)return;if(i instanceof HTMLElement&&U(e=i),function(e,t){var n,r,a,i,o=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var d=o.length-1;d>=0;d--)r=(n=o[d]).name,a=n.namespaceURI,i=n.value,a?(r=n.localName||r,e.getAttributeNS(a,r)!==i&&("xmlns"===n.prefix&&(r=n.name),e.setAttributeNS(a,r,i))):e.getAttribute(r)!==i&&e.setAttribute(r,i);for(var l=e.attributes,u=l.length-1;u>=0;u--)r=(n=l[u]).name,(a=n.namespaceURI)?(r=n.localName||r,t.hasAttributeNS(a,r)||e.removeAttributeNS(a,r)):t.hasAttribute(r)||e.removeAttribute(r)}}(e,t),N(e),!1===A(e,t))return}"TEXTAREA"!==e.nodeName?function(e,t){var n,a,i,d,u,s=w(e,t),c=t.firstChild,f=e.firstChild;e:for(;c;){for(d=c.nextSibling,n=p(c);!s&&f;){if(i=f.nextSibling,c.isSameNode&&c.isSameNode(f)){c=d,f=i;continue e}a=p(f);var v=f.nodeType,h=void 0;if(v===c.nodeType&&(1===v?(n?n!==a&&((u=E[n])?i===u?h=!1:(e.insertBefore(u,f),a?S(a):O(f,e,!0),a=p(f=u)):h=!1):a&&(h=!1),(h=!1!==h&&o(f,c))&&L(f,c)):3!==v&&8!=v||(h=!0,f.nodeValue!==c.nodeValue&&(f.nodeValue=c.nodeValue))),h){c=d,f=i;continue e}a?S(a):O(f,e,!0),f=i}if(n&&(u=E[n])&&o(u,c))s||T(e,u),L(u,c);else{var N=m(c);!1!==N&&(N&&(c=N),c.actualize&&(c=c.actualize(e.ownerDocument||r)),T(e,c),R(c))}c=d,f=i}!function(e,t,n){for(;t;){var r=t.nextSibling;(n=p(t))?S(n):O(t,e,!0),t=r}}(e,f,a);var b=l[e.nodeName];b&&b(e,t)}(e,t):l.TEXTAREA(e,t)}U(t);var P,V,I=t,B=I.nodeType,k=n.nodeType;if(!g)if(1===B)1===k?o(t,n)||(C(t),I=function(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}(t,(P=n.nodeName,(V=n.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==V?r.createElementNS(V,P):r.createElement(P)))):I=n;else if(3===B||8===B){if(k===B)return I.nodeValue!==n.nodeValue&&(I.nodeValue=n.nodeValue),I;I=n}if(I===n)C(t);else{if(n.isSameNode&&n.isSameNode(I))return;if(L(I,n,g),y)for(var D=0,F=y.length;D<F;D++){var H=E[y[D]];H&&O(H,H.parentNode,!1)}}return!g&&I!==t&&t.parentNode&&(I.actualize&&(I=I.actualize(t.ownerDocument||r)),t.parentNode.replaceChild(I,t)),I},f=e=>e.state,p=e=>"function"!=typeof e,m=e=>{const t={state:e.initialState,render:e.render,events:e.events,emit:e.emit,wrapper:document.createElement("div")};e.id&&(t.wrapper.id=e.id),e.className&&(t.wrapper.className=e.className);let n=t.render(t.state);t.wrapper.appendChild(n);let r=!1;if(t.events){function a(a){const i=t.events[a.type];p(i)||(["submit"].includes(a.type)&&a.preventDefault(),a.stopImmediatePropagation());const o=(e=>p(e)?e.handler:e)(i);!function(a){if(t.state===a)return;const i=t.state;t.state=a,r||(setTimeout((()=>{!function(){const r=t.render(t.state);n.isEqualNode(r)||(e.redraw&&"refresh"===e.redraw||n.nodeName!==r.nodeName?(n.replaceWith(r),n=r):c(n,r,{onBeforeElUpdated:(e,t)=>!e.isEqualNode(t)}))}(),r=!1}),0),r=!0),function(e){if(t.emit)for(const n of t.emit)n.when(e,t.state)&&("window"===n.target?window:t.wrapper).dispatchEvent(n.emit(t.state))}(i)}(o(t.state,a))}Object.entries(t.events).forEach((([e,n])=>{(p(n)?"window"===n.target?window:document:t.wrapper).addEventListener(e,a,!0)}))}return t},v=e=>(e.reactor.wrapper.remove(),e.reactor.wrapper),h=e=>(e.wrapper.remove(),e);var N=n.L8,b=n.eF,C=n.wk,A=n.ds;export{N as make,b as run,C as state,A as stop};